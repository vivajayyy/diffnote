# Product Requirements Document

**Diffnote**

디프노트

*문서 비교의 새로운 기준*

| 항목 | 내용 |
|------|------|
| **버전** | 1.0 |
| **작성일** | 2026년 1월 7일 |
| **작성자** | 재한 |
| **상태** | Draft |

## 목차

1. [Executive Summary](#1-executive-summary)
2. [프로젝트 배경 및 문제 정의](#2-프로젝트-배경-및-문제-정의)
3. [목표 및 성공 지표](#3-목표-및-성공-지표)
4. [타겟 사용자](#4-타겟-사용자)
5. [기능 요구사항](#5-기능-요구사항)
6. [기술 스택 및 아키텍처](#6-기술-스택-및-아키텍처)
7. [개발 로드맵](#7-개발-로드맵)
8. [리스크 및 대응 방안](#8-리스크-및-대응-방안)
9. [부록](#9-부록)

## 1. Executive Summary

Diffnote(디프노트)는 개발자들이 IDE에서 사용하는 Diff 기능을 **일반 사용자도 쉽게 활용할 수 있도록** 웹 기반으로 제공하는 문서 비교 서비스입니다.

텍스트, PDF, DOCX 파일을 업로드하거나 직접 붙여넣기하여 두 문서의 차이점을 시각적으로 확인할 수 있습니다. 설치 없이 브라우저에서 바로 사용 가능하며, 모든 파일 처리는 클라이언트에서 이루어져 보안성을 보장합니다.

### 핵심 가치 제안 (Value Proposition)

- **즉시 사용 가능:** 회원가입, 설치 없이 브라우저에서 바로 사용
- **다양한 포맷 지원:** TXT, PDF, DOCX 파일 비교
- **프라이버시 보장:** 모든 처리가 브라우저에서 이루어져 서버에 파일이 저장되지 않음
- **직관적 UI:** Side-by-side 비교, 변경사항 하이라이트, 줄/단어 단위 비교

## 2. 프로젝트 배경 및 문제 정의

### 2.1 문제 상황

개발자들은 IDE의 Diff 기능을 통해 코드 변경사항을 쉽게 확인합니다. 그러나 일반 사무직 종사자, 법무팀, 기획자 등 비개발자들은:

- 계약서, 기획서, 보고서 등의 문서 버전 비교가 필요하지만
- Word의 '변경 내용 추적' 기능은 복잡하고
- 두 문서를 나란히 열어 수동으로 비교하는 비효율적인 방식을 사용

### 2.2 기존 솔루션의 한계

| 솔루션 | 장점 | 한계 | 가격 |
|--------|------|------|------|
| Diffchecker | 텍스트 비교 강력 | PDF 비교 유료 | 무료/Pro $9/월 |
| Draftable | 레이아웃 비교 | 무료 제한적 | $129/년~ |
| MS Word | 익숙한 인터페이스 | 유료, 복잡함 | MS365 구독 |
| Adobe Acrobat | PDF 전문 | 고가, 무거움 | $22.99/월~ |

### 2.3 Diffnote의 기회

기존 솔루션들의 간극을 파고들어 **무료이면서 프라이버시를 보장하고, 설치 없이 바로 사용 가능한** 문서 비교 도구를 제공합니다.

## 3. 목표 및 성공 지표

### 3.1 프로젝트 목표

| 구분 | 목표 | 측정 방법 |
|------|------|-----------|
| 단기 (3개월) | MVP 출시 및 월 1,000 MAU 달성 | Google Analytics |
| 중기 (6개월) | 월 10,000 MAU, 공유 기능 출시 | Analytics + DB 지표 |
| 장기 (12개월) | 월 50,000 MAU, 프리미엄 전환율 5% | 수익 대시보드 |

### 3.2 핵심 성과 지표 (KPIs)

- **사용자 획득:** MAU, DAU, 신규 방문자 수
- **참여도:** 비교 실행 횟수, 세션 당 비교 횟수, 평균 세션 시간
- **리텐션:** 7일/30일 재방문율, 반복 사용자 비율
- **품질:** 에러율, 페이지 로드 시간, Core Web Vitals

## 4. 타겟 사용자

### 4.1 Primary Persona: 사무직 직장인

**이름:** 김민수 (32세, 대기업 기획팀)

**특징:** 주 1-2회 보고서/기획서 버전 비교 필요

**Pain Point:** Word 변경 추적이 복잡하고, 두 파일을 나란히 열어 수동 비교

**니즈:** 빠르고 간단하게 차이점만 확인하고 싶음

### 4.2 Secondary Persona: 법무/계약 담당자

**이름:** 박지현 (38세, 스타트업 법무담당)

**특징:** 계약서 수정 내역 검토가 핵심 업무

**Pain Point:** 상대방이 수정한 계약 조항을 놓칠 수 있는 리스크

**니즈:** 단어 하나까지 정확히 비교, 보안 중요

### 4.3 Tertiary Persona: 개발자

**이름:** 최현우 (27세, 백엔드 개발자)

**특징:** IDE 외부에서 빠르게 텍스트/설정 파일 비교 필요

**Pain Point:** IDE 열기 귀찮거나 불가능한 상황

**니즈:** 심플하고 빠른 웹 기반 diff 도구

## 5. 기능 요구사항

### 5.1 MVP 핵심 기능 (Phase 1)

#### F1. 텍스트 입력 및 파일 업로드

- 좌우 분할된 텍스트 입력 영역
- 지원 파일: TXT, PDF, DOCX
- 드래그 앤 드롭 업로드
- 파일 크기 제한: 10MB

#### F2. Diff 비교 엔진

- 줄 단위(Line-by-Line) 비교 (기본)
- 단어 단위(Word-by-Word) 비교
- 문자 단위(Character-by-Character) 비교

#### F3. 결과 시각화

- Side-by-Side 뷰
- Unified 뷰 (인라인)
- 변경사항 하이라이트: 추가(녹색), 삭제(빨간색), 수정(노란색)
- 변경 위치로 점프 네비게이션
- 변경 통계 요약 (추가/삭제/수정 개수)

### 5.2 확장 기능 (Phase 2)

- **F4. 공유 링크 생성:** 비교 결과를 URL로 공유
- **F5. 다크모드:** 시스템 설정 연동 및 수동 전환
- **F6. 결과 내보내기:** HTML, PDF 형식 다운로드
- **F7. 비교 이력:** 로컬 스토리지 기반 최근 비교 목록

### 5.3 프리미엄 기능 (Phase 3)

- **F8. 3-Way Merge:** Base/Left/Right 3파일 비교
- **F9. 폴더 비교:** 여러 파일 일괄 비교
- **F10. API 제공:** 외부 시스템 연동용 REST API
- **F11. 팀 워크스페이스:** 팀 단위 공유 및 협업

### 5.4 기능 우선순위 매트릭스

| 기능 | Impact | Effort | Priority | Phase |
|------|--------|--------|----------|-------|
| 텍스트 비교 | High | Low | P0 | 1 |
| 파일 업로드 (TXT) | High | Low | P0 | 1 |
| PDF/DOCX 파싱 | High | Medium | P0 | 1 |
| Side-by-Side UI | High | Medium | P0 | 1 |
| 공유 링크 | Medium | Medium | P1 | 2 |
| 다크모드 | Medium | Low | P1 | 2 |
| 3-Way Merge | Medium | High | P2 | 3 |
| API 제공 | High | High | P2 | 3 |

## 6. 기술 스택 및 아키텍처

### 6.1 기술 스택

| 영역 | 기술 | 선택 이유 |
|------|------|-----------|
| Framework | Next.js 15 (App Router) | Vercel 최적화, SSR/ISR |
| Language | TypeScript | 타입 안정성, DX |
| Styling | Tailwind CSS + shadcn/ui | 빠른 개발, 일관된 디자인 |
| PDF 파싱 | pdf.js | 클라이언트 사이드 처리 |
| DOCX 파싱 | mammoth.js | 클라이언트 사이드 처리 |
| Diff 엔진 | diff-match-patch | Google 검증, 성능 우수 |
| 상태관리 | Zustand | 경량, 간단한 API |
| 배포 | Vercel | Git 연동 자동 배포 |
| DB (Phase 2) | Vercel KV / Postgres | 공유 링크 저장 |

### 6.2 시스템 아키텍처

**클라이언트 중심 아키텍처**

보안과 비용 효율성을 위해 모든 파일 처리를 클라이언트에서 수행합니다.

**데이터 흐름:**

1. 사용자가 파일 업로드 또는 텍스트 입력
2. 브라우저에서 파일 파싱 (PDF/DOCX → 텍스트 추출)
3. diff-match-patch로 비교 수행
4. 결과 렌더링 및 표시
5. (선택) 공유 시 Vercel KV에 결과 저장

### 6.3 프로젝트 구조

```
diffnote/
├── app/
│   ├── page.tsx              # 메인 비교 페이지
│   ├── layout.tsx            # 루트 레이아웃
│   ├── shared/[id]/page.tsx  # 공유 페이지
│   └── api/share/route.ts    # 공유 API
├── components/
│   ├── DiffViewer.tsx        # 비교 결과 UI
│   ├── FileUploader.tsx      # 파일 업로드
│   └── TextInput.tsx         # 텍스트 입력
├── lib/
│   ├── parsers/              # PDF, DOCX 파서
│   ├── diff-engine.ts        # 비교 로직
│   └── utils.ts              # 유틸리티
└── public/                   # 정적 파일
```

## 7. 개발 로드맵

### Phase 1: MVP (4주)

| 주차 | 작업 내용 | 산출물 |
|------|-----------|--------|
| 1주차 | 프로젝트 설정, 기본 UI 레이아웃 | Next.js 프로젝트, Vercel 연동 |
| 2주차 | 파일 파서 구현 (TXT, PDF, DOCX) | 파싱 모듈 |
| 3주차 | Diff 엔진 연동, 결과 UI | 비교 기능 완성 |
| 4주차 | QA, 버그 수정, 배포 | MVP 출시 |

### Phase 2: 확장 (4주)

1. 공유 링크 기능 (Vercel KV 연동)
2. 다크모드 지원
3. 결과 내보내기 (HTML/PDF)
4. 비교 이력 관리

### Phase 3: 프리미엄 (8주)

- 3-Way Merge 기능
- API 제공 및 가격 정책 수립
- 팀 워크스페이스
- 결제 시스템 연동

## 8. 리스크 및 대응 방안

| 리스크 | 영향도 | 발생 확률 | 대응 방안 |
|--------|--------|-----------|-----------|
| PDF 파싱 정확도 | High | Medium | OCR 연동 검토, 이미지 PDF 안내 |
| 대용량 파일 성능 | High | Medium | Web Worker 활용, 스트리밍 처리 |
| 브라우저 호환성 | Medium | Low | 주요 브라우저 테스트, polyfill |
| 경쟁사 진입 | Medium | High | 차별화 기능 강화, UX 최적화 |
| Vercel 비용 증가 | Medium | Low | 클라이언트 처리 최대화, 캐싱 |

## 9. 부록

### 9.1 Vercel 무료 티어 제약사항

| 제약 | 무료 한도 | 대응 |
|------|-----------|------|
| Serverless 실행시간 | 10초 | 클라이언트 파싱으로 회피 |
| 대역폭 | 100GB/월 | 파일 서버 미업로드 |
| 빌드 시간 | 6000분/월 | 충분 |

### 9.2 비즈니스 모델 (향후)

| 티어 | 기능 | 가격 |
|------|------|------|
| Free | 기본 비교, 10MB 제한 | 무료 |
| Pro | 무제한, 공유, 내보내기, 이력 | $5/월 |
| Team | 팀 워크스페이스, API | $15/월/사용자 |

### 9.3 참고 자료

- diff-match-patch: https://github.com/google/diff-match-patch
- pdf.js: https://mozilla.github.io/pdf.js/
- mammoth.js: https://github.com/mwilliamson/mammoth.js
- Vercel Documentation: https://vercel.com/docs

---

*End of Document*
